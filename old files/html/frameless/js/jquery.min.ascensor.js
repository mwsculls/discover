(function(a,d){function n(d,e){this.element=d;this.options=a.extend({},p,e);this._defaults=p;this._name=g;this.init()}var g="ascensor",p={ChildType:"div",WindowsOn:1,Direction:"y",AscensorMap:"",AscensorName:"ascensor",AscensorFloorName:"",Time:"1000",Easing:"linear",KeyNavigation:!0};n.prototype.init=function(){function r(){h=a(d).width();k=a(d).height();a(q).width(h).height(k);a(i).width(h).height(k);"y"===j&&a(i).stop().scrollTop((c-1)*k);"x"===j&&(a(i).stop().scrollLeft((c-1)*h),a(q).css("position",
"absolute").each(function(b){a(this).css("left",b*h)}));if("chocolate"===j){var b=m[c-1].split("|");a(q).each(function(b){b=m[b].split("|");a(this).css({position:"absolute",left:(b[1]-1)*h,top:(b[0]-1)*k})});a(i).stop().scrollLeft((b[1]-1)*h).scrollTop((b[0]-1)*k)}}function e(f,e){"y"===j&&a(i).stop().animate({scrollTop:(f-1)*a(d).height()},e,b.options.Easing);"x"===j&&a(i).stop().animate({scrollLeft:(f-1)*a(d).width()},e,b.options.Easing);if("chocolate"===j){var g=m[f-1].split("|");a(i).stop().animate({scrollLeft:(g[1]-
1)*a(d).width(),scrollTop:(g[0]-1)*a(d).height()},e,b.options.Easing)}null!==b.options.AscensorFloorName&&(d.location.hash="/"+s[f-1]);a("."+b.options.AscensorName+"Link").removeClass(b.options.AscensorName+"LinkActive");a("."+b.options.AscensorName+"Link"+f).addClass(b.options.AscensorName+"LinkActive");c=f}function g(f,d){"y"===j&&(1===f&&0===d&&(c+1<l||c+1===l)&&e(c+1,b.options.Time),-1===f&&0===d&&(1<c-1||1===c-1)&&e(c-1,b.options.Time));"x"===j&&(0===f&&-1===d&&(1<c-1||1===c-1)&&e(c-1,b.options.Time),
0===f&&1===d&&(c+1<l||c+1===l)&&e(c+1,b.options.Time));if("chocolate"===j){var h=m[c-1].split("|");a.each(m,function(a){m[a]===parseInt(h[0],10)+f+"|"+(parseInt(h[1],10)+d)&&e(a+1,b.options.Time)})}}function n(a){switch(a.keyCode){case 40:g(1,0);break;case 38:g(-1,0);break;case 37:g(0,-1);break;case 39:g(0,1)}}var b=this,i=this.element,q=a(i).children(b.options.ChildType),c=b.options.WindowsOn,l=0,h,k,m=b.options.AscensorMap.split(" & "),s=b.options.AscensorFloorName.split(" | "),j=b.options.Direction,
p=d.location.hash.split("/").pop();null!==b.options.AscensorFloorName&&a(s).each(function(f){p===s[f]&&(c=f+1,a("."+b.options.AscensorName+"Link").eq(c-1).addClass(b.options.AscensorName+"LinkActive"))});a(i).css("position","absolute").width(h).height(k);a(q).width(h).height(k).each(function(){l++;a(this).attr("id",b.options.AscensorName+"Floor"+l).addClass(b.options.AscensorName+"Floor")});a("."+b.options.AscensorName+"Link").on("click",function(){var c=a(this).attr("class"),c=c.split(" "),c=c[1],
c=c.split(b.options.AscensorName+"Link"),c=parseInt(c[1],10);e(c,b.options.Time)});a("."+b.options.AscensorName+"LinkPrev").on("click",function(){1>c-1&&(c=l);e(c,b.options.Time)});a("."+b.options.AscensorName+"LinkNext").on("click",function(){c+1>l&&(c=1);e(c,b.options.Time)});b.options.KeyNavigation&&(a.browser.mozilla?a(document).keypress(n):a(document).keydown(n));if(/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)){var u=
0,t=function(){d.orientation!==u&&(u=d.orientation,r())};d.addEventListener("resize",t,!1);d.addEventListener("orientationchange",t,!1);setInterval(t,200)}a(d).resize(function(){r()}).resize();r();e(c,1)};a.fn[g]=function(d){return this.each(function(){a.data(this,"plugin_"+g)||a.data(this,"plugin_"+g,new n(this,d))})}})(jQuery,window);